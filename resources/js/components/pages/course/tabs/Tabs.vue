<template>
    <div class="tabs">
        <ul class="tabs__list">
            <li class="tabs__item"
                v-for="(tab, index) in tabs"
                :key="tab.title"
                @click="selectTab(index)"
                :class='{"selected": (index == selectedIndex)}'
            >
                <i v-html="getTabIcon(tab.icon)"></i>
                
                <span>{{ tab.title }}</span>
            </li>
        </ul>

        <div class="tabs__content">
            <slot></slot>
        </div>
    </div>
</template>

<script>

export default {
  name: "Tabs",

    data () {
        return {
        selectedIndex: 0, // the index of the selected tab,
        tabs: []         // all of the tabs
        }
    },

    created () {
        this.tabs = this.$children;
    },

    mounted () {
        this.selectTab(0)
    },

    methods: {
        selectTab(i) {
            this.selectedIndex = i;
            // loop over all the tabs
            this.tabs.forEach((tab, index) => {
                tab.isActive = (index === i);
            })
        },

        getTabIcon(icon) {
            switch (icon) {
                case 'template':
                    return `<svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.65 1.5H6.2C6.59 1.5 6.85 1.76 6.85 2.15V6.7C6.85 7.09 6.59 7.35 6.2 7.35H1.65C1.26 7.35 1 7.09 1 6.7V2.15C1 1.76 1.26 1.5 1.65 1.5ZM2.30008 6.05H5.55008V2.8H2.30008V6.05ZM13.35 1.5H8.79997C8.40997 1.5 8.14997 1.76 8.14997 2.15V6.7C8.14997 7.09 8.40997 7.35 8.79997 7.35H13.35C13.74 7.35 14 7.09 14 6.7V2.15C14 1.76 13.74 1.5 13.35 1.5ZM9.44992 6.05H12.6999V2.8H9.44992V6.05ZM13.35 8.64999H8.79997C8.40997 8.64999 8.14997 8.90999 8.14997 9.29999V13.85C8.14997 14.24 8.40997 14.5 8.79997 14.5H13.35C13.74 14.5 14 14.24 14 13.85V9.29999C14 8.90999 13.74 8.64999 13.35 8.64999ZM9.44992 13.2H12.6999V9.95H9.44992V13.2ZM6.2 8.64999H1.65C1.26 8.64999 1 8.90999 1 9.29999V13.85C1 14.24 1.26 14.5 1.65 14.5H6.2C6.59 14.5 6.85 14.24 6.85 13.85V9.29999C6.85 8.90999 6.59 8.64999 6.2 8.64999ZM2.30008 13.2H5.55008V9.95H2.30008V13.2Z" fill="#6E6B7B"/></svg>`;
                case 'upload':
                    return `<svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.25 11.0625C7.1875 11.0625 7.125 11 7.0625 10.9375L4.5625 8.4375C4.3125 8.1875 4.3125 7.8125 4.5625 7.5625C4.8125 7.3125 5.1875 7.3125 5.4375 7.5625L6.875 9V1.75C6.875 1.375 7.125 1.125 7.5 1.125C7.875 1.125 8.125 1.375 8.125 1.75V9L9.5625 7.5625C9.8125 7.3125 10.1875 7.3125 10.4375 7.5625C10.6875 7.8125 10.6875 8.1875 10.4375 8.4375L7.9375 10.9375C7.90625 10.9688 7.875 10.9844 7.84375 11C7.8125 11.0156 7.78125 11.0312 7.75 11.0625C7.6875 11.125 7.5625 11.125 7.5 11.125C7.4375 11.125 7.3125 11.125 7.25 11.0625ZM13.75 13V11.125C13.75 10.75 13.5 10.5 13.125 10.5C12.75 10.5 12.5 10.75 12.5 11.125V13C12.5 13.375 12.25 13.625 11.875 13.625H3.125C2.75 13.625 2.5 13.375 2.5 13V11.125C2.5 10.75 2.25 10.5 1.875 10.5C1.5 10.5 1.25 10.75 1.25 11.125V13C1.25 14.0625 2.0625 14.875 3.125 14.875H11.875C12.9375 14.875 13.75 14.0625 13.75 13Z" fill="black"/><mask id="mask0_229_5158" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="1" y="1" width="13" height="14"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.25 11.0625C7.1875 11.0625 7.125 11 7.0625 10.9375L4.5625 8.4375C4.3125 8.1875 4.3125 7.8125 4.5625 7.5625C4.8125 7.3125 5.1875 7.3125 5.4375 7.5625L6.875 9V1.75C6.875 1.375 7.125 1.125 7.5 1.125C7.875 1.125 8.125 1.375 8.125 1.75V9L9.5625 7.5625C9.8125 7.3125 10.1875 7.3125 10.4375 7.5625C10.6875 7.8125 10.6875 8.1875 10.4375 8.4375L7.9375 10.9375C7.90625 10.9688 7.875 10.9844 7.84375 11C7.8125 11.0156 7.78125 11.0312 7.75 11.0625C7.6875 11.125 7.5625 11.125 7.5 11.125C7.4375 11.125 7.3125 11.125 7.25 11.0625ZM13.75 13V11.125C13.75 10.75 13.5 10.5 13.125 10.5C12.75 10.5 12.5 10.75 12.5 11.125V13C12.5 13.375 12.25 13.625 11.875 13.625H3.125C2.75 13.625 2.5 13.375 2.5 13V11.125C2.5 10.75 2.25 10.5 1.875 10.5C1.5 10.5 1.25 10.75 1.25 11.125V13C1.25 14.0625 2.0625 14.875 3.125 14.875H11.875C12.9375 14.875 13.75 14.0625 13.75 13Z" fill="white"/></mask><g mask="url(#mask0_229_5158)"><rect y="0.5" width="15" height="15" fill="#6E6B7B"/></g></svg>`;
                case 'settings':
                    return `<svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.6875 10.125C12.75 10 12.875 9.875 13.125 9.875C14.1875 9.875 15 9.0625 15 8C15 6.9375 14.1875 6.125 13.125 6.125H13C12.875 6.125 12.75 6.0625 12.6875 5.9375C12.6875 5.875 12.6875 5.875 12.625 5.8125C12.5625 5.6875 12.5625 5.5 12.75 5.3125C13.5 4.5625 13.5 3.375 12.75 2.6875C12.375 2.3125 11.9375 2.125 11.4375 2.125C10.9375 2.125 10.4375 2.3125 10.0625 2.6875C9.9375 2.8125 9.75 2.8125 9.625 2.75C9.5 2.75 9.375 2.5625 9.375 2.375C9.375 1.3125 8.5625 0.5 7.5 0.5C6.4375 0.5 5.625 1.3125 5.625 2.375V2.5C5.625 2.625 5.5625 2.75 5.4375 2.8125C5.41094 2.8125 5.39567 2.8125 5.38209 2.8173C5.36371 2.82379 5.34844 2.83906 5.3125 2.875C5.1875 2.9375 5 2.875 4.8125 2.75C4.0625 2 2.875 2 2.1875 2.75C1.4375 3.5 1.4375 4.6875 2.25 5.4375C2.375 5.5625 2.375 5.75 2.3125 5.9375C2.25 6.0625 2.0625 6.1875 1.875 6.1875C0.8125 6.1875 0 7 0 8.0625C0 9.125 0.8125 9.9375 1.875 9.9375H2C2.1875 9.9375 2.3125 10.0625 2.375 10.1875C2.4375 10.3125 2.4375 10.5 2.25 10.6875C1.875 11.0625 1.6875 11.5 1.6875 12C1.6875 12.5 1.875 12.9375 2.25 13.3125C3 14.0625 4.1875 14.0625 4.9375 13.25C5.0625 13.125 5.25 13.125 5.4375 13.1875C5.625 13.25 5.6875 13.375 5.6875 13.625C5.6875 14.6875 6.5 15.5 7.5625 15.5C8.625 15.5 9.4375 14.6875 9.4375 13.625V13.5C9.4375 13.3125 9.5625 13.1875 9.6875 13.125C9.8125 13.0625 10 13.0625 10.1875 13.25C10.9375 14 12.125 14 12.8125 13.25C13.5625 12.5 13.5625 11.3125 12.75 10.5625C12.6875 10.4375 12.625 10.25 12.6875 10.125ZM5 8C5 6.625 6.125 5.5 7.5 5.5C8.875 5.5 10 6.625 10 8C10 9.375 8.875 10.5 7.5 10.5C6.125 10.5 5 9.375 5 8ZM6.25 8C6.25 8.6875 6.8125 9.25 7.5 9.25C8.1875 9.25 8.75 8.6875 8.75 8C8.75 7.3125 8.1875 6.75 7.5 6.75C6.8125 6.75 6.25 7.3125 6.25 8ZM11.9375 11.5C11.4375 10.9375 11.3125 10.25 11.5625 9.625C11.8125 9 12.4375 8.625 13.0625 8.625C13.5 8.625 13.75 8.375 13.75 8C13.75 7.625 13.5 7.375 13.125 7.375H13C12.375 7.375 11.75 7 11.5 6.375C11.4375 6.3125 11.4375 6.25 11.4375 6.1875C11.25 5.625 11.375 4.9375 11.8125 4.5C12.125 4.1875 12.125 3.8125 11.875 3.5625C11.75 3.4375 11.625 3.375 11.4375 3.375C11.25 3.375 11.125 3.4375 11 3.5625C10.4375 4.0625 9.75 4.1875 9.125 3.9375C8.5 3.6875 8.125 3.125 8.125 2.4375C8.125 2 7.875 1.75 7.5 1.75C7.125 1.75 6.875 2 6.875 2.375V2.5C6.875 3.125 6.5 3.75 5.875 4C5.8125 4.0625 5.75 4.0625 5.6875 4.0625C5.125 4.25 4.4375 4.125 4 3.6875C3.6875 3.375 3.3125 3.375 3.0625 3.625C2.8125 3.875 2.8125 4.25 3.0625 4.5C3.5625 5.0625 3.6875 5.75 3.4375 6.375C3.1875 7 2.625 7.4375 1.9375 7.4375H1.875C1.5 7.4375 1.25 7.6875 1.25 8.0625C1.25 8.4375 1.5 8.6875 1.875 8.6875H2C2.625 8.6875 3.25 9.0625 3.5 9.6875C3.8125 10.3125 3.6875 11 3.1875 11.5C3 11.6875 2.9375 11.8125 2.9375 12C2.9375 12.1875 3 12.3125 3.125 12.4375C3.375 12.6875 3.75 12.6875 4 12.4375C4.3125 12.125 4.75 11.9375 5.1875 11.9375C5.4375 11.9375 5.6875 11.9375 5.875 12.0625C6.5 12.3125 6.9375 12.875 6.9375 13.5625V13.625C6.9375 14 7.1875 14.25 7.5625 14.25C7.9375 14.25 8.1875 14 8.1875 13.625V13.5C8.1875 12.875 8.5625 12.25 9.1875 12C9.8125 11.6875 10.5 11.8125 11 12.3125C11.1875 12.5 11.3125 12.5625 11.5 12.5625C11.6875 12.5625 11.8125 12.5 11.9375 12.375C12.0625 12.25 12.125 12.125 12.125 11.9375C12.125 11.75 12.0625 11.625 11.9375 11.5Z" fill="#6E6B7B"/></svg>`;
            }
        }
    },
}
</script>

<style scoped>

</style>