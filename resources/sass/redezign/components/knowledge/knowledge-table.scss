$table-grid-template: auto / minmax(18px, 31px) auto minmax(100px, 10%) minmax(140px, 12%) minmax(135px, 10%) minmax(90px, 10%);

.knowledge-table {
    display: grid;
    //grid-template: 50px calc(100vh - 482px) / 1fr;
    grid-template: 50px 1fr / 1fr;
    
    //max-height: calc(100vh - 430px);
    border: 1px solid $grey-3;
    border-radius: 5px;
    //overflow: auto;

    &__header {
        position: sticky;
        top: 85px;
        z-index: 10;
        display: grid;
        grid-template: $table-grid-template;
        align-items: center;
        padding: 10px 20px;
        @include font($grey-8, 14px, 20px, 600);
        text-transform: uppercase;
        background-color: $grey-2;
        //border-bottom: 1px solid #eee;
    }

    &__header-item {
        

        &--sortable {
            display: flex;
            align-items: center;
            //flex-direction: column;

            span {
                display: inline-block;
            }
        }

        &--center {
            text-align: center;
        }
    }

    &__icon-sort {
        margin-left: 10px;
    }

    &__body {
        
    }

    &__item-wrapper {
        &.open {
            .knowledge-table__row {
                background-color: $blue-3;
                border-color: transparent;
            }
        }
    }

    &__row {
        display: grid;
        grid-template: $table-grid-template;
        align-items: center;
        padding: 15px 20px;
        background-color: $white;
        border-bottom: 1px solid #eee;
        transition: $transition;

        &--special {
            grid-template: auto / auto;
            justify-content: center;
            align-items: center;
            padding: 40px;
            text-align: center;
            @include font($grey-5, 18px, 24px, 500);
        }

        &:hover {
            background-color: $primary-3;

            .knowledge-table__item {
                &--question,
                &--date,
                &--enquery {
                    color: $primary-1;
                }

                &-icon {
                    .icon__fill {
                        fill: $primary-1;
                    }
        
                    .icon__stroke {
                        stroke: $primary-1;
                    }
                }
            }
        }

        &.active {
            .knowledge-table__item {
                &--question,
                &--date,
                &--enquery {
                    color: $primary-1;
                }

                &-icon {
                    .icon__fill {
                        fill: $primary-1;
                    }
        
                    .icon__stroke {
                        stroke: $primary-1;
                    }
                }
            }
        }
    }

    &__full {
        grid-column: 2 / 3;

        @include font($text-color-2, 14px, 20px, 400);
    }

    &__full-question {
        
    }

    &__full-answer {
        margin-top: $indent-3;
        
        &.hide {
            .knowledge-table__answer-block {
                max-height: 100px;
                overflow: hidden;
    
                &:before {
                    opacity: 1;
                    visibility: visible;
                }
            }
        }
    }

    &__answer-block {
        position: relative;
        
        &:before {
            content: "";
            position: absolute;
            right: 0;
            bottom: 0;
            left: 0;
            height: 20px;
            background:  linear-gradient(180deg, rgba(244, 251, 255, 0) 0%, #F4FBFF 100%);;
            opacity: 0;
            visibility: hidden;
        }

        ol, ul {
            padding-left: 20px;
        }
    }

    &__open-answer-btn {
        margin-top: $indent-3;
        margin-left: auto;
    }

    &__full-title {
        margin-bottom: $indent-1;
    }

    &__item-wrapper {
        &:last-child {
            .v-table__row {
                &:last-child {
                    border-bottom: none;
                }    
            }
        }
    }

    &__item {

        &--center {
            display: flex;
            justify-content: center;
        }

        &--question {
            position: relative;
            display: flex;
            justify-content: space-between;
            @include truncate(100%);
            cursor: pointer;
        }

        &--question,
        &--date,
        &--enquery {
            @include font($grey-9, 14px, 20px, 400);
        }

        &-icon {
            padding-right: $indent-2;

            .icon__fill {
                fill: $grey-8;
            }

            .icon__stroke {
                stroke: $grey-8;
            }
        }
    }

    &__status {
        padding: 4px 10px;
        white-space: nowrap;
        @include font(#fff, 12px, 16px, 600);
        border-radius: 17px;

        &--public {
            color: $green-1;
            background-color: $green-2;
        }

        &--not-public {
            color: $red-1;
            background-color: $red-2;
        }

        &--draft {
            color: $orange-1;
            background-color: $orange-2;
        }
    }

    &__action-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        cursor: pointer;
    }

    &__action-menu {
        position: absolute;
        right: 100%;
        z-index: 5;
        display: flex;
        flex-direction: column;
        min-width: 185px;
        background-color: $white;
        border: 1px solid $grey-3;
    }

    &__action-item {
        display: inline-block;
        padding: 10px 15px;
        text-align: center;
        @include font($text-color-1, 14px, 20px, 400);
        cursor: pointer;
        transition: $transition;

        & + & {
            border-top: 1px solid $grey-3;
        }

        &:hover {
            color: $primary-1;
        }
    }
}
